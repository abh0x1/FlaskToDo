{% extends 'base.html' %}
{% block title %} All Users {% endblock %}
{% block content %}

<!-- Flash Messages -->
{% with messages = get_flashed_messages(with_categories=True) %}
{% if messages %}
  {% for category, message in messages %}
    <div class="mb-4 p-4 rounded-md text-white font-semibold text-center 
                {% if category == 'success' %} bg-green-500 
                {% elif category == 'error' %} bg-red-500 
                {% else %} bg-gray-500 {% endif %}">
      {{ message }}
    </div>
  {% endfor %}
{% endif %}
{% endwith %}

{% if rows %}
  <div class="overflow-x-auto">
    <table class="table-auto w-full border border-gray-300 shadow-md rounded-md">
      <thead class="bg-gray-800 text-white">
        <tr>
          <th class="px-4 py-2">ID</th>
          <th class="px-4 py-2">Name</th>
          <th class="px-4 py-2">Email</th>
          <th class="px-4 py-2">City</th>
        </tr>
      </thead>
      <tbody class="bg-white text-center">
        {% for user in rows %}
        <tr class="border-t">
          <td class="px-4 py-2">{{ user.id }}</td>
          <td class="px-4 py-2">{{ user.name }}</td>
          <td class="px-4 py-2">{{ user.email }}</td>
          <td class="px-4 py-2">{{ user.city }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <p class="text-gray-600">No user found.</p>
{% endif %}

<br>
<a href="{{ url_for('home') }}" class="inline-block mt-4 text-blue-500 hover:underline">Back to Home</a>

{% endblock %}
